<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
           "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.douzone.dao.UtilDAO" >

   <update id="update_earner_code">
      UPDATE earner SET
      <choose>
      	 <when test="mode == 'update_sworker_other'">
            is_sworker = 'N',        
            occupation_code = NULL,
            rate_coefficient = 0,
            sworker_reduce = 0,
            workinjury_reduce = 0,
         </when>
              
         <when test="mode == 'update_is_artist_other'">
            is_artist = 'N',
            ins_reduce = 0,
         </when>
        </choose>
      	div_code = #{div_code},
        div_name = #{div_name},
        div_type = #{div_type}
      WHERE earner_code = #{earner_code}
        and worker_id = #{worker_id}
   </update>

</mapper>
	

